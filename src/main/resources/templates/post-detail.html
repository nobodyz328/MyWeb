<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>帖子详情 - MySteam社区</title>
  <link rel="stylesheet" href="/blog/static/css/post-detail.css">
</head>
<body>
  <nav class="steam-navbar">
    <a href="/blog/view" class="back-btn">🔙</a>
    <a href="/blog/view" class="logo">MySteam社区</a>
    <div></div>
  </nav>

  <div class="container">
    <div class="post-detail-container">
      <!-- 加载状态 -->
      <div class="loading-state" id="loadingState">
        <div class="loading-spinner"></div>
        <div>正在加载帖子详情...</div>
      </div>

      <!-- 帖子内容 -->
      <div class="post-content-wrapper" id="postContentWrapper">
        <div class="post-title" id="postTitle"></div>
        
        <div class="post-meta">
          <div class="post-author-info">
            <img id="postAuthorAvatar" src="/blog/static/images/noface.gif" alt="作者头像" class="post-author-avatar">
            <div class="post-author-details">
              <div class="post-author-name" id="postAuthorName">未知作者</div>
              <div class="post-time" id="postTime"></div>
            </div>
          </div>
          <div class="post-stats">
            <span class="post-stat">
              <i class="stat-icon">👁️</i>
              <span id="postViewCount">0</span>
            </span>
            <span class="post-stat">
              <i class="stat-icon">❤️</i>
              <span id="postLikeCount">0</span>
            </span>
            <span class="post-stat">
              <i class="stat-icon">⭐</i>
              <span id="postCollectCount">0</span>
            </span>
            <span class="post-stat">
              <i class="stat-icon">💬</i>
              <span id="postCommentCount">0</span>
            </span>
          </div>
        </div>
        
        <div class="post-content" id="postContent"></div>
        
        <div class="post-images" id="postImages" style="display: none;"></div>
        
        <div class="post-actions">
          <button class="interaction-btn" id="likeBtn" data-action="like">
            🤍 <span class="count">0</span>
          </button>
          <button class="interaction-btn" id="bookmarkBtn" data-action="bookmark">
            ☆ <span class="text">收藏</span>
          </button>
          <button class="steam-btn" onclick="scrollToComments()">
            💬 评论 (<span id="commentCountBtn">0</span>)
          </button>
          <div id="authorActions" style="display: none;">
            <button class="steam-btn" id="editBtn">✏️ 编辑</button>
            <button class="steam-btn steam-btn-danger" id="deleteBtn">🗑️ 删除</button>
          </div>
        </div>
        
        <div class="comment-section" id="commentSection">
          <h3>💬 评论区</h3>
          
          <!-- 评论表单 -->
          <div id="commentFormContainer">
            <form class="comment-form" id="commentForm" style="display: none;">
              <textarea placeholder="写下你的评论..." required></textarea>
              <div class="comment-form-actions">
                <button type="submit" class="steam-btn">发表评论</button>
              </div>
            </form>
            
            <div class="login-prompt" id="loginPrompt" style="display: none;">
              <a href="/blog/login" class="steam-btn">登录后参与评论</a>
            </div>
          </div>
          
          <!-- 评论列表 -->
          <div class="comments-list" id="commentsList">
            <div class="loading-state">
              <div class="loading-spinner"></div>
              <div>正在加载评论...</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer style="text-align: center; color: #66c0f4; margin-top: 80px; padding: 40px 0; background: rgba(23, 26, 33, 0.8); font-size: 1rem; border-top: 1px solid rgba(102, 192, 244, 0.2);">
    © 2025 MySteam社区
  </footer>

  <script src="/blog/static/js/post-detail.js"></script>
</body>
</html>