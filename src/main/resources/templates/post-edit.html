<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>发帖 - MySteam社区</title>
  <link rel="stylesheet" href="/blog/static/css/post-edit.css">
</head>
<body>
  <nav class="steam-navbar">
    <a href="/blog/view" class="back-btn">🔙 返回</a>
    <a href="/blog/view" class="logo">MySteam社区</a>
    <div></div>
  </nav>

  <div class="container">
    <div class="page-header">
      <h1 class="page-title">发布新帖</h1>
      <p class="page-subtitle">分享你的游戏心得和精彩内容</p>
    </div>

    <div class="post-edit-container">
      <form class="post-edit-form" id="postEditForm">
        <div class="form-group">
          <label class="form-label" for="titleInput">标题</label>
          <input 
            type="text" 
            id="titleInput" 
            class="form-input" 
            placeholder="输入一个吸引人的标题..." 
            maxlength="100"
            required
          >
        </div>

        <div class="form-group">
          <label class="form-label" for="contentTextarea">内容</label>
          <textarea 
            id="contentTextarea" 
            class="form-textarea" 
            placeholder="分享你的想法、经验或故事..."
            required
          ></textarea>
          <div style="text-align: right; margin-top: 4px;">
            <span id="charCount" style="font-size: 0.9rem; color: #8f98a0;">0/2000</span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">图片上传</label>
          <div class="image-upload-section" id="imageUploadSection">
            <div class="upload-icon">📷</div>
            <div class="upload-text">点击或拖拽图片到此处上传</div>
            <div class="upload-hint">支持 JPG、PNG、GIF 格式，单张图片不超过 5MB</div>
            <button type="button" class="upload-btn" id="uploadBtn">选择图片</button>
            <input 
              type="file" 
              id="imageFileInput" 
              class="file-input" 
              multiple 
              accept="image/*"
            >
          </div>
          <div class="image-preview-container" id="imagePreviewContainer">
            <!-- 图片预览将在这里动态添加 -->
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="steam-btn steam-btn-secondary" onclick="cancelEdit()">
            取消
          </button>
          <button type="submit" class="steam-btn" id="submitBtn">
            发布帖子
          </button>
        </div>
      </form>
    </div>
  </div>

  <footer>
    © 2025 MySteam社区
  </footer>

  <script src="/blog/static/js/auth-utils.js"></script>
  <script src="/blog/static/js/post-edit.js"></script>
</body>
</html>